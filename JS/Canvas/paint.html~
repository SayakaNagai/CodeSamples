<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Paint</title>
    <script>
      var mouseDown = false;
      
      var penX = 0;
      var penY = 0;
      var penColor = "rgba(0,0,0,1)";
      var penWidth = 10;

      //描画の開始
      function startDraw(event){
      mouseDown = true;
      penX = event.clientX; //マウスカーソル上の座標
      penY = event.clientY;
      }

      //描画
      function draw(event){
      if(mouseDown){
      var canvas = document.getElementById("main");
      var context = canvas.getContext("2d");

      //ペンのセット
      context.strokeStyle = penColor;
      context.lineWidth = penWidth;
      context.lineCap = "round";
      
      //マウスカーソルの座標を取得
      x = event.clientX;
      y = event.clientY;

      context.beginPath();
      context.moveTo(penX,penY); //startDrawの座標から
      context.lineTo(x,y); //現在の座標
      context.stroke();

      penX = x;
      penY = y;
      }
      }
      //描画の終了
      function endDraw(event){
      mouseDown = false;
      }
    </script>
    <style>
      canvas {
      border : solid #999999 1px;
      }
    </style>
  </head>
  <body>
    <canvas id="main" width="640" height="480" onMouseDown="startDraw(event)" onMouseMove="draw(event)" onMouseUp="endDraw(event)">
    </canvas> 
  </body>
</html>

<!-- 
onMouseDown:マウスボタンが押された時
onMouseMove=マウスが移動した時
onMouseUp=マウスボタンが離された時
-->
